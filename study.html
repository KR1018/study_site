study-site/
  â”” index.html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å‹‰å¼·ã‚µã‚¤ãƒˆ</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    button { margin: 5px; }
    #question { margin-top: 20px; font-weight: bold; }
    #result { margin-top: 10px; color: blue; white-space: pre-line; }
    input { margin-top: 10px; }
  </style>
</head>
<body>
  <h1>å‹‰å¼·ã‚µã‚¤ãƒˆ</h1>

  <h2>ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠ</h2>
  <!-- æ•°å­¦ -->
  <button id="btnMojisiki">æ–‡å­—å¼ã®åˆ©ç”¨</button>
  <button id="btnRenritu">é€£ç«‹æ–¹ç¨‹å¼</button>
  <button id="btnLinear">ä¸€æ¬¡é–¢æ•°</button>
  <button id="btnLinearUse">ä¸€æ¬¡é–¢æ•°ã®åˆ©ç”¨</button>
  <button id="btnExp">å±•é–‹</button>
  <button id="btnFact">å› æ•°åˆ†è§£</button>
  <button id="btnSqrt">å¹³æ–¹æ ¹</button>
  <button id="btnQuad">äºŒæ¬¡æ–¹ç¨‹å¼</button>
  <button id="btnAll">å…¨ã‚¸ãƒ£ãƒ³ãƒ«ãƒ©ãƒ³ãƒ€ãƒ </button>
  
  <!-- ç¤¾ä¼š -->
  <button id="btnHistory">ç¤¾ä¼šï¼ˆæ­´å²ï¼‰</button>
  <button id="btnGeography">ç¤¾ä¼šï¼ˆåœ°ç†ï¼‰</button>
  <button id="btnSocietyAll">ç¤¾ä¼šãƒ©ãƒ³ãƒ€ãƒ </button>
  
  <button id="btnReview">é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’</button>

  <h2>å•é¡Œ</h2>
  <div id="question">ã“ã“ã«å•é¡ŒãŒè¡¨ç¤ºã•ã‚Œã¾ã™</div>

  <input id="answer" type="text" placeholder="ç­”ãˆã‚’å…¥åŠ›">
  <button id="check">ç­”ãˆ</button>

  <div id="result"></div>

  <script>
    function randomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min;}

    // --------------------------
    // æ•°å­¦å•é¡Œ
    const problems_mojisiki = [];
    for(let i=0;i<100;i++){
      let a=randomInt(1,9),b=randomInt(1,9),c=randomInt(-10,9);
      let q=`${a}x + ${b}x ${c>=0?"+ ":"- "}${Math.abs(c)}`;
      let atext=`${a+b}x ${c>=0?"+ ":"- "}${Math.abs(c)}`;
      let exp=`${a}x + ${b}x = ${a+b}x ã ã‹ã‚‰ã€æœ€çµ‚çš„ã« ${atext}`;
      problems_mojisiki.push({q:q,a:atext,exp:exp});
    }

    const problems_renritu=[];
    for(let i=0;i<100;i++){
      let x=randomInt(1,10),y=randomInt(1,10);
      let a=randomInt(1,5),b=randomInt(1,5),c=a*x+b*y;
      let d=randomInt(1,5),e=randomInt(1,5),f=d*x+e*y;
      let q=`${a}x + ${b}y = ${c},  ${d}x + ${e}y = ${f}`;
      let atext=`x = ${x}, y = ${y}`;
      let exp=`ä»£å…¥ã—ã¦ç¢ºèªã™ã‚‹ã¨ä¸¡æ–¹ã®å¼ãŒæˆã‚Šç«‹ã¤ â†’ ${atext}`;
      problems_renritu.push({q:q,a:atext,exp:exp});
    }

    const problems_linear=[];
    for(let i=0;i<100;i++){
      let a=randomInt(1,5),b=randomInt(-5,5),x=randomInt(0,10);
      let y=a*x+b;
      let q=`y = ${a}x ${b>=0?"+ ":"- "+Math.abs(b)} ã®ã¨ã x = ${x} ã® y ã‚’æ±‚ã‚ã‚ˆ`;
      let atext=`${y}`;
      let exp=`y = ${a}Ã—${x} ${b>=0?"+ ":"- "+Math.abs(b)} = ${y}`;
      problems_linear.push({q:q,a:atext,exp:exp});
    }

    const problems_linearUse=[];
    for(let i=0;i<100;i++){
      let a=randomInt(1,5),b=randomInt(-5,5),x=randomInt(0,10);
      let y=a*x+b;
      let q=`ã‚ã‚‹ä¸€æ¬¡é–¢æ•° y=${a}x ${b>=0?"+ ":"- "+Math.abs(b)} ã®ã¨ãã€x=${x} ã® y ã¯ï¼Ÿ`;
      let atext=`${y}`;
      let exp=`y=${a}Ã—${x} ${b>=0?"+ ":"- "+Math.abs(b)} = ${y}`;
      problems_linearUse.push({q:q,a:atext,exp:exp});
    }

    const problems_exp=[];
    for(let i=0;i<100;i++){
      let a=randomInt(1,5),b=randomInt(1,5),c=randomInt(1,5),d=randomInt(1,5);
      let q=`(${a}x + ${b})(${c}x + ${d}) ã‚’å±•é–‹ã›ã‚ˆ`;
      let A=a*c, B=a*d+b*c, C=b*d;
      let atext=`${A}x^2 ${B>=0?"+ ":"- "+Math.abs(B)}x ${C>=0?"+ ":"- "+Math.abs(C)}`;
      let exp=`å…¬å¼ (ax+b)(cx+d)=acx^2+(ad+bc)x+bd ã‚ˆã‚Š ${atext}`;
      problems_exp.push({q:q,a:atext,exp:exp});
    }

    const problems_fact=[];
    for(let i=0;i<100;i++){
      let a=randomInt(1,5),b=randomInt(1,5);
      let q=`${a*b}x + ${a*b*2} ã‚’å› æ•°åˆ†è§£ã›ã‚ˆ`;
      let atext=`${a}(${b}x + ${b*2})`;
      let exp=`å…¬å€æ•°ã‚’ããã‚Šå‡ºã™ã¨ ${atext}`;
      problems_fact.push({q:q,a:atext,exp:exp});
    }

    const problems_sqrt=[];
    for(let i=0;i<100;i++){
      let n=randomInt(1,10);
      let q=`âˆš${n*n} ã‚’ç°¡å˜ã«ã›ã‚ˆ`;
      let atext=`${n}`;
      let exp=`âˆš(${n}^2) = ${n}`;
      problems_sqrt.push({q:q,a:atext,exp:exp});
    }

    const problems_quad=[];
    for(let i=0;i<100;i++){
      let x=randomInt(1,10);
      let a=randomInt(1,5),b=randomInt(1,5);
      let c=a*x*x+b*x;
      let q=`${a}x^2 + ${b}x - ${c} = 0 ã®è§£ã‚’æ±‚ã‚ã‚ˆ`;
      let atext=`x = ${x}`;
      let exp=`ä»£å…¥ã—ã¦ç¢ºèªã™ã‚‹ã¨ x=${x} ãŒè§£`;
      problems_quad.push({q:q,a:atext,exp:exp});
    }

    // --------------------------
    // ç¤¾ä¼šå•é¡Œ
    const problems_history=[
  {q:"è–å¾³å¤ªå­ãŒåˆ¶å®šã—ãŸæ”¿æ²»ã®åŸºæœ¬æ–¹é‡ã‚’ä½•ã¨ã„ã†ã‹ã€‚", a:"åä¸ƒæ¡ã®æ†²æ³•"},
  {q:"å¤§åŒ–ã®æ”¹æ–°ã‚’è¡Œã£ãŸå¤©çš‡ã¯èª°ã‹ã€‚", a:"å­å¾³å¤©çš‡"},
  {q:"å¥ˆè‰¯æ™‚ä»£ã«éƒ½ãŒãŠã‹ã‚ŒãŸå ´æ‰€ã¯ã©ã“ã‹ã€‚", a:"å¹³åŸäº¬"},
  {q:"å¹³å®‰äº¬ã«éƒ½ãŒç§»ã•ã‚ŒãŸã®ã¯ä½•å¹´ã‹ã€‚", a:"794å¹´"},
  {q:"å¹³å®‰æ™‚ä»£ã«æˆç«‹ã—ãŸæœ€å¤ã®å‹…æ’°å’Œæ­Œé›†ã¯ä½•ã‹ã€‚", a:"å¤ä»Šå’Œæ­Œé›†"},
  {q:"æºé ¼æœãŒéŒå€‰å¹•åºœã‚’é–‹ã„ãŸå¹´ã¯ã„ã¤ã‹ã€‚", a:"1192å¹´"},
  {q:"éŒå€‰å¹•åºœã§åˆä»£å°†è»ã¨ãªã£ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"æºé ¼æœ"},
  {q:"æ‰¿ä¹…ã®ä¹±ã§æ•—ã‚ŒãŸå¾Œã€å¹•åºœã¯ä½•åˆ¶åº¦ã‚’å¼·åŒ–ã—ãŸã‹ã€‚", a:"å®ˆè­·ãƒ»åœ°é ­åˆ¶åº¦"},
  {q:"å…ƒå¯‡ã§æ—¥æœ¬ã«æ”»ã‚ã¦ããŸå›½ã¯ã©ã“ã‹ã€‚", a:"ãƒ¢ãƒ³ã‚´ãƒ«å¸å›½"},
  {q:"å®¤ç”ºå¹•åºœã‚’é–‹ã„ãŸå°†è»ã¯èª°ã‹ã€‚", a:"è¶³åˆ©å°Šæ°"},
  {q:"å¿œä»ã®ä¹±ã¯ä½•å¹´ã«èµ·ããŸã‹ã€‚", a:"1467å¹´"},
  {q:"æˆ¦å›½æ™‚ä»£ã«ã€Œå¤©ä¸‹çµ±ä¸€ã€ã‚’æœãŸã—ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"è±Šè‡£ç§€å‰"},
  {q:"é–¢ãƒ¶åŸã®æˆ¦ã„ã§å‹åˆ©ã—ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"å¾³å·å®¶åº·"},
  {q:"æ±Ÿæˆ¸å¹•åºœã‚’é–‹ã„ãŸã®ã¯èª°ã‹ã€‚", a:"å¾³å·å®¶åº·"},
  {q:"é–å›½æ”¿ç­–ã‚’é–‹å§‹ã—ãŸæ±Ÿæˆ¸å¹•åºœã®å°†è»ã¯èª°ã‹ã€‚", a:"å¾³å·å®¶å…‰"},
  {q:"é»’èˆ¹æ¥èˆªã¯ä½•å¹´ã‹ã€‚", a:"1853å¹´"},
  {q:"æ˜æ²»ç¶­æ–°ã¯ä½•å¹´ã‹ã‚‰å§‹ã¾ã£ãŸã‹ã€‚", a:"1868å¹´"},
  {q:"å¤§æ”¿å¥‰é‚„ã‚’è¡Œã£ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"å¾³å·æ…¶å–œ"},
  {q:"æ˜æ²»æ™‚ä»£ã®æ®–ç”£èˆˆæ¥­æ”¿ç­–ã‚’æ¨é€²ã—ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"å²©å€‰å…·è¦–"},
  {q:"æ—¥æ¸…æˆ¦äº‰ãŒèµ·ããŸå¹´ã¯ã„ã¤ã‹ã€‚", a:"1894å¹´"},
  {q:"æ—¥éœ²æˆ¦äº‰ãŒèµ·ããŸå¹´ã¯ã„ã¤ã‹ã€‚", a:"1904å¹´"},
  {q:"ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ¦ä¸­ã®æ—¥æœ¬ã®é¦–ç›¸ã¯èª°ã‹ã€‚", a:"æ±æ¡è‹±æ©Ÿ"},
  {q:"æ—¥æœ¬ãŒã‚¢ãƒ¡ãƒªã‚«ã«åŸå­çˆ†å¼¾ã‚’æŠ•ä¸‹ã•ã‚ŒãŸéƒ½å¸‚ã¯ã©ã“ã‹ã€‚", a:"åºƒå³¶ãƒ»é•·å´"},
  {q:"æ—¥æœ¬å›½æ†²æ³•ãŒæ–½è¡Œã•ã‚ŒãŸå¹´ã¯ã„ã¤ã‹ã€‚", a:"1947å¹´"},
  {q:"æ˜æ²»æ™‚ä»£ã«åœ°ç§Ÿæ”¹æ­£ã‚’è¡Œã£ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"å¤§è”µçœï¼ˆæ¾æ–¹æ­£ç¾©ãªã©ï¼‰"},
  {q:"å¹³å®‰æ™‚ä»£ã®è—¤åŸæ°ã®æ‘‚æ”¿ãƒ»é–¢ç™½æ”¿æ²»ã‚’ä½•ã¨ã„ã†ã‹ã€‚", a:"æ‘‚é–¢æ”¿æ²»"},
  {q:"éŒå€‰å¹•åºœã®æ­¦å£«ã®æ”¯é…ä½“åˆ¶ã‚’ä½•ã¨ã„ã†ã‹ã€‚", a:"å¾¡å®¶äººåˆ¶åº¦"},
  {q:"æ±Ÿæˆ¸å¹•åºœã§å‚å‹¤äº¤ä»£ã‚’ç¾©å‹™ä»˜ã‘ãŸç†ç”±ã¯ä½•ã‹ã€‚", a:"å¤§åã®çµŒæ¸ˆçš„ãƒ»æ”¿æ²»çš„æŠ‘åˆ¶"},
  {q:"å¤ªå¹³æ´‹æˆ¦äº‰ãŒå§‹ã¾ã£ãŸå¹´ã¯ã„ã¤ã‹ã€‚", a:"1941å¹´"},
  {q:"å¹³å®‰æ™‚ä»£ã®æœ«æœŸã€é™¢æ”¿ã‚’å§‹ã‚ãŸå¤©çš‡ã¯èª°ã‹ã€‚", a:"ç™½æ²³å¤©çš‡"},
  {q:"æºå¹³åˆæˆ¦ã§å¹³å®¶ãŒæ»…äº¡ã—ãŸæˆ¦ã„ã¯ä½•ã‹ã€‚", a:"å£‡ãƒæµ¦ã®æˆ¦ã„"},
  {q:"éŒå€‰å¹•åºœã®åŸ·æ¨©åˆ¶åº¦ã‚’åˆã‚ã¦ç¢ºç«‹ã—ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"åŒ—æ¡æ™‚æ”¿"},
  {q:"å®¤ç”ºå¹•åºœã§å®ˆè­·å¤§åã«ä»»å‘½ã•ã‚ŒãŸåˆ¶åº¦ã¯ä½•ã‹ã€‚", a:"å®ˆè­·è·"},
  {q:"æˆ¦å›½æ™‚ä»£ã®ä¸‰è‹±å‚‘ã¨ã¯èª°ã‹ã€‚", a:"ç¹”ç”°ä¿¡é•·ãƒ»è±Šè‡£ç§€å‰ãƒ»å¾³å·å®¶åº·"},
  {q:"æ˜æ²»æ™‚ä»£ã®å»ƒè—©ç½®çœŒã¯ä½•å¹´ã‹ã€‚", a:"1871å¹´"},
  {q:"æ—¥éœ²æˆ¦äº‰å¾Œã«ç· çµã•ã‚ŒãŸè¬›å’Œæ¡ç´„ã¯ä½•ã‹ã€‚", a:"ãƒãƒ¼ãƒ„ãƒã‚¹æ¡ç´„"},
  {q:"æ˜­å’Œæ™‚ä»£ã«æ—¥æœ¬ãŒæº€å·äº‹å¤‰ã‚’èµ·ã“ã—ãŸå¹´ã¯ã„ã¤ã‹ã€‚", a:"1931å¹´"},
  {q:"æ±Ÿæˆ¸æ™‚ä»£ã®å››æ°‘å¹³ç­‰ã®èº«åˆ†åˆ¶åº¦ã¯ä½•ã‹ã€‚", a:"å£«è¾²å·¥å•†"},
  {q:"å¹³å®‰æ™‚ä»£ã®æ–‡åŒ–ã§ã€ã€æºæ°ç‰©èªã€ã‚’æ›¸ã„ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"ç´«å¼éƒ¨"},
  {q:"å¥ˆè‰¯æ™‚ä»£ã®æ–‡åŒ–ã§ã€ã€å¤äº‹è¨˜ã€ã‚’ç·¨çº‚ã—ãŸã®ã¯èª°ã‹ã€‚", a:"å¤ªå®‰ä¸‡ä¾¶"},
  {q:"æˆ¦å›½æ™‚ä»£ã®é‰„ç ²ä¼æ¥ã¯ä½•å¹´ã‹ã€‚", a:"1543å¹´"},
  {q:"éŒå€‰æ™‚ä»£ã«æˆç«‹ã—ãŸæ­¦å£«ã®ãŸã‚ã®æ³•å¾‹ã¯ä½•ã‹ã€‚", a:"å¾¡æˆæ•—å¼ç›®"},
  {q:"æ±Ÿæˆ¸æ™‚ä»£ã«äº”è¡—é“ã®æ•´å‚™ã‚’è¡Œã£ãŸäººç‰©ã¯èª°ã‹ã€‚", a:"å¾³å·å®¶åº·"},
  {q:"å…ƒå¯‡ã®æ™‚ã€ç¥é¢¨ãŒå¹ã„ãŸã¨ã•ã‚Œã‚‹ãŒã€å…ƒã®ä¾µæ”»ã¯ä½•å¹´ã‹ã€‚", a:"1274å¹´ãƒ»1281å¹´"},
  {q:"æ±Ÿæˆ¸æ™‚ä»£ã«å¹•åºœç›´è½„åœ°ã‚’ä½•ã¨å‘¼ã¶ã‹ã€‚", a:"å¤©é ˜"},
  {q:"æ˜æ²»æ™‚ä»£ã«å»ƒåˆ€ä»¤ã‚’å‡ºã—ãŸç†ç”±ã¯ä½•ã‹ã€‚", a:"æ­¦å£«ã®ç‰¹æ¨©ã‚’å»ƒæ­¢ã—è¿‘ä»£åŒ–"},
  {q:"å¹³å®‰æ™‚ä»£ã®è²´æ—æ–‡åŒ–ã§ã€å’Œæ­Œã‚„æ—¥è¨˜ã‚’é‡ã‚“ã˜ãŸæ–‡åŒ–ã¯ä½•ã‹ã€‚", a:"å›½é¢¨æ–‡åŒ–"},
    ];

    const problems_geography=[
      {q:"æ—¥æœ¬ã®æœ€åŒ—ç«¯ã®å³¶ã¯ï¼Ÿ", a:"å®—è°·å²¬", exp:"åŒ—æµ·é“ã®æœ€åŒ—ç«¯ã«ã‚ã‚‹å²¬"},
      {q:"å¯Œå£«å±±ã®æ¨™é«˜ã¯ï¼Ÿ", a:"3776", exp:"æ—¥æœ¬ä¸€é«˜ã„å±±ã®é«˜ã•ã¯3776m"},
      {q:"æœ¬å·æœ€å¤§ã®æ¹–ã¯ï¼Ÿ", a:"çµç¶æ¹–", exp:"æ»‹è³€çœŒã«ã‚ã‚‹æ—¥æœ¬æœ€å¤§ã®æ¹–"}
    ];

    const problems_society_all=[...problems_history,...problems_geography];

    // --------------------------
    const problems_all = [
      ...problems_mojisiki,
      ...problems_renritu,
      ...problems_linear,
      ...problems_linearUse,
      ...problems_exp,
      ...problems_fact,
      ...problems_sqrt,
      ...problems_quad,
      ...problems_history,
      ...problems_geography
    ];

    let currentProblem=null;
    let currentSet=[];
    let wrongProblems=[];

    function showProblem(){
      if(currentSet.length===0){document.getElementById("question").textContent="ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸ã‚“ã§ãã ã•ã„";return;}
      const idx=randomInt(0,currentSet.length-1);
      currentProblem=currentSet[idx];
      document.getElementById("question").textContent=currentProblem.q;
      document.getElementById("result").textContent="";
      document.getElementById("answer").value="";
    }

    // --------------------------
    // ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
    document.getElementById("btnMojisiki").addEventListener("click",()=>{currentSet=problems_mojisiki; showProblem();});
    document.getElementById("btnRenritu").addEventListener("click",()=>{currentSet=problems_renritu; showProblem();});
    document.getElementById("btnLinear").addEventListener("click",()=>{currentSet=problems_linear; showProblem();});
    document.getElementById("btnLinearUse").addEventListener("click",()=>{currentSet=problems_linearUse; showProblem();});
    document.getElementById("btnExp").addEventListener("click",()=>{currentSet=problems_exp; showProblem();});
    document.getElementById("btnFact").addEventListener("click",()=>{currentSet=problems_fact; showProblem();});
    document.getElementById("btnSqrt").addEventListener("click",()=>{currentSet=problems_sqrt; showProblem();});
    document.getElementById("btnQuad").addEventListener("click",()=>{currentSet=problems_quad; showProblem();});
    document.getElementById("btnAll").addEventListener("click",()=>{currentSet=problems_all; showProblem();});

    document.getElementById("btnHistory").addEventListener("click",()=>{currentSet=problems_history; showProblem();});
    document.getElementById("btnGeography").addEventListener("click",()=>{currentSet=problems_geography; showProblem();});
    document.getElementById("btnSocietyAll").addEventListener("click",()=>{currentSet=problems_society_all; showProblem();});

    // é–“é•ãˆãŸå•é¡Œå¾©ç¿’
    document.getElementById("btnReview").addEventListener("click",()=>{
      if(wrongProblems.length===0){
        document.getElementById("question").textContent="é–“é•ãˆãŸå•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ï¼";
        document.getElementById("result").textContent="";
        currentSet=[];
      }else{
        currentSet=wrongProblems;
        showProblem();
      }
    });

    // ç­”ãˆåˆã‚ã›
    document.getElementById("check").addEventListener("click",()=>{
      if(!currentProblem){document.getElementById("result").textContent="å…ˆã«ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸ã‚“ã§ãã ã•ã„ï¼";return;}
      let userAns=document.getElementById("answer").value.replace(/\s+/g,"");
      let correctAns=currentProblem.a.replace(/\s+/g,"");
      if(userAns===correctAns){
        document.getElementById("result").innerHTML=`âœ… æ­£è§£ï¼ğŸ‰\nè§£èª¬: ${currentProblem.exp}`;
        wrongProblems = wrongProblems.filter(p => p !== currentProblem);
      }else{
        document.getElementById("result").innerHTML=`âŒ ä¸æ­£è§£â€¦ğŸ˜¢\næ­£è§£ã¯ ${currentProblem.a}\nè§£èª¬: ${currentProblem.exp}`;
        if(!wrongProblems.includes(currentProblem)) wrongProblems.push(currentProblem);
      }
    });
  </script>
</body>
</html>